<div class="px-md-0">
    {{ form_ajax('onAddInvestment', { name : 'add-investment-form', class: 'js-validate js-step-form', files: true, id:
    'add-investment-form', 'data-progress-id': '#progressStepForm', 'data-steps-id': '#contentStepForm', 'novalidate':
    'novalidate' })}}
    <div class="card">
        <div class="card-header p-5 d-lg-block">
            <nav id="progressStepForm" class="js-step-progress nav nav-icon nav-justified text-center">
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">1</h1>
          </span>
                    <span class="step-title">Project Title</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">2</h1>
          </span>
                    <span class="step-title">Project Location &amp; Map</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">3</h1>
          </span>
                    <span class="step-title">Policy Background</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">4</h1>
          </span>
                    <span class="step-title">Project Objectives</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">5</h1>
          </span>
                    <span class="step-title">Project Description</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">6</h1>
          </span>
                    <span class="step-title">Scope of Project</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">7</h1>
          </span>
                    <span class="step-title">Time of Operation</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">8</h1>
          </span>
                    <span class="step-title">Period of Development</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">9</h1>
          </span>
                    <span class="step-title">Project Status</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">10</h1>
          </span>
                    <span class="step-title">Offered Schemes</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">11</h1>
          </span>
                    <span class="step-title">Investment Cost</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">12</h1>
          </span>
                    <span class="step-title">Financial Overview</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">13</h1>
          </span>
                    <span class="step-title">Incentives</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">14</h1>
          </span>
                    <span class="step-title">Executing Agency</span>
                </a>
                <a href="javascript:;" class="nav-item">
          <span class="nav-icon-action">
            <h1 class="display-4 font-weight-bold">15</h1>
          </span>
                    <span class="step-title">Contact and Coordination</span>
                </a>
            </nav>
        </div>

        <div id="contentStepForm" class="card-body p-5">
            <!-- Step 1 -->
            <div id="selectStepOne" class="active">
                <div class="row mt-2">
                    <div class="col-md-12 mb-3">
                        <div class="js-form-message">
                            <label for="name" class="font-weight-medium text-uppercase">Project Title
                                <strong
                                        class="text-danger">*</strong></label>

                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                    <span class="input-group-text" id="listingOrganizationsLabel"><span
                            class="fas fa-globe"></span></span>
                                </div>
                                <input type="text" class="form-control" name="name" id="name"
                                       placeholder="Add your project tittle" required
                                       data-msg="Project title is required."
                                       data-error-class="u-has-error"
                                       data-success-class="u-has-success">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover mr-1"
                            data-next-step="#selectStepTwo">Next
                    </button>
                </div>
            </div>
            <!-- End Step 1 -->

            <!-- Step 2 -->
            <div id="selectStepTwo" style="display: none;">
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <div class="js-form-message">
                            <label for="address" class="font-weight-medium text-uppercase">Location Detail <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><span class="fas fa-map-pin"></span></span>
                                </div>
                                <input type="text" class="form-control" required name="address" id="address"
                                       placeholder="Type any address and move marker to your desirable spot"
                                       data-msg="Address is required."
                                       data-error-class="u-has-error"
                                       data-success-class="u-has-success">
                                <div id="map" style="height: 250px; width: 100%; margin-top: 10px"></div>
                            </div>
                            <input hidden type="text" name="latitude" id="latitude">
                            <input hidden type="text" name="longitude" id="longitude">
                        </div>
                    </div>

                    <div class="col-md-12 mb-3">
                        <div class="js-form-message">
                            <label for="city_id" class="font-weight-medium text-uppercase">City/Regency <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend"><span class="input-group-text"><span
                                        class="fas fa-building"></span></span>
                                </div>
                                <select id="city_id" name="city_id"
                                        data-request="onSelectCity"
                                        data-request-update="'{{__SELF__}}::districts_list': '#district_id', '{{__SELF__}}::villages_list': '#village_id'"
                                        data-request-success="$('#district_id').selectpicker('refresh');"
                                        required
                                        class="js-select selectpicker form-control"
                                        title="Choose one"
                                        data-style="btn-sm bg-transparent text-secondary font-weight-normal px-0"
                                        data-live-search="true"
                                        data-container="body"
                                        data-searchbox-classes="input-group-sm"
                                        data-size="8"
                                        data-msg="Select City"
                                        data-error-class="u-has-error"
                                        data-success-class="u-has-success">
                                    {% for city in cities %}
                                    {% if city.id matches '/^32/' %}
                                    <option value="{{city.id}}">{{city.name}}</option>
                                    {% endif %}
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="js-form-message">
                            <label for="district_id" class="font-weight-medium text-uppercase">District <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend"><span class="input-group-text"><span
                                        class="fas fa-building"></span></span>
                                </div>
                                <select id="district_id" name="district_id"
                                        data-request="onSelectDistrict"
                                        data-request-update="'{{__SELF__}}::villages_list': '#village_id'"
                                        data-request-success="$('#village_id').selectpicker('refresh');"
                                        required
                                        class="js-select selectpicker form-control"
                                        title="Choose one"
                                        data-style="btn-sm bg-transparent text-secondary font-weight-normal px-0"
                                        data-live-search="true"
                                        data-container="body"
                                        data-searchbox-classes="input-group-sm"
                                        data-size="8"
                                        data-msg="Select District"
                                        data-error-class="u-has-error"
                                        data-success-class="u-has-success">
                                    {% for district in districts %}
                                    <option value="{{district.id}}">{{district.name}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="js-form-message">
                            <label for="village_id" class="font-weight-medium text-uppercase">Village <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend"><span class="input-group-text"><span
                                        class="fas fa-building"></span></span>
                                </div>
                                <select id="village_id" name="village_id"
                                        required
                                        class="js-select selectpicker form-control"
                                        title="Choose one"
                                        data-style="btn-sm bg-transparent text-secondary font-weight-normal px-0"
                                        data-live-search="true"
                                        data-container="body"
                                        data-searchbox-classes="input-group-sm"
                                        data-size="8"
                                        data-msg="Select Village"
                                        data-error-class="u-has-error"
                                        data-success-class="u-has-success">
                                    {% for village in villages %}
                                    <option value="{{village.id}}">{{village.name}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepOne">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepThree">Next
                    </button>
                </div>
            </div>
            <!-- End Step 2 -->

            <!-- Step 3 -->
            <div id="selectStepThree" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label class="font-weight-medium text-uppercase">Policies List</label>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                    <span class="input-group-text">1.
                    </span>
                                    </div>
                                    <input type="text" class="form-control" name="policy_regulations_name1"
                                           id="policy_regulations_name1"
                                           placeholder="Paper Name">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <input type="file" class="form-control form-control-file"
                                           name="policy_regulations_file1"
                                           id="policy_regulations_file1">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                    <span class="input-group-text">2.
                    </span>
                                    </div>
                                    <input type="text" class="form-control" name="policy_regulations_name2"
                                           id="policy_regulations_name2"
                                           placeholder="Paper Name">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <input type="file" class="form-control form-control-file"
                                           name="policy_regulations_file2"
                                           id="policy_regulations_file2">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                    <span class="input-group-text">3.
                    </span>
                                    </div>
                                    <input type="text" class="form-control" name="policy_regulations_name3"
                                           id="policy_regulations_name3"
                                           placeholder="Paper Name">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <input type="file" class="form-control form-control-file"
                                           name="policy_regulations_file3"
                                           id="policy_regulations_file3">
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                    <span class="input-group-text">4.
                    </span>
                                    </div>
                                    <input type="text" class="form-control" name="policy_regulations_name4"
                                           id="policy_regulations_name4"
                                           placeholder="Paper Name">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group mb-2">
                                    <input type="file" class="form-control form-control-file"
                                           name="policy_regulations_file4"
                                           id="policy_regulations_file4">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepTwo">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepFour">Next
                    </button>
                </div>
            </div>
            <!-- End Step 3 -->

            <!-- Step 4 -->
            <div id="selectStepFour" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="objectives" class="font-weight-medium text-uppercase">Project Objectives </label>
                        <div class="input-group mb-2">
                <textarea type="text" rows="5" class="form-control" name="objectives" id="objectives"
                          placeholder="Describe your project objectives here.."></textarea>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepThree">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepFive">Next
                    </button>
                </div>
            </div>
            <!-- End Step 4 -->

            <!-- Step 5 -->
            <div id="selectStepFive" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="description" class="font-weight-medium text-uppercase">Project
                            Description </label>
                        <div class="input-group mb-2">
                <textarea type="text" rows="5" class="form-control" name="description" id="description"
                          placeholder="Describe you project detail here.."></textarea>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepFour">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepSix">Next
                    </button>
                </div>
            </div>
            <!-- End Step 5 -->

            <!-- Step 6 -->
            <div id="selectStepSix" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="project_level_id" class="font-weight-medium text-uppercase">Scope of
                            Project </label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-suitcase"></span></span>
                            </div>
                            <select name="project_level_id" class="custom-select" id="project_level_id">
                                <option selected disabled>Choose one</option>
                                {% for level in projectLevels %}
                                <option value="{{level.id}}">{{level.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>


                    <div class="col-md-12 mb-10">
                        <!-- Title -->
                        <div class="border-bottom pb-3 mb-5">
                            <h2 class="h6 text-secondary mb-0">Project Sector
                            </h2>
                        </div>
                        <!-- End Title -->

                        <!-- Radio Checkbox Group -->
                        <div class="row mx-gutters-2">
                            {% for type in propertyTypes %}
                            <div class="col-6 col-md-3 mb-3 mb-md-0">
                                <div class="custom-control custom-radio custom-control-inline checkbox-outline text-center">
                                    <input type="radio" id="property-type-{{type.id}}" name="property_type_id"
                                           value="{{type.id}}"
                                           class="custom-control-input checkbox-outline__input">
                                    <label class="checkbox-outline__label rounded py-3 px-1 mb-0"
                                           for="property-type-{{type.id}}">
                                        {% if type.icon %}
                                        <img class="js-svg-injector w-50 mb-3"
                                             src="{{type.icon.path}}" alt="{{type.name}}"
                                             data-parent="#add-investment-form">
                                        {% else %}
                                        <img class="js-svg-injector w-50 mb-3"
                                             src="{{'assets/img/logos/logo.png'|theme}}" alt="{{type.name}}"
                                             data-parent="#add-investment-form">
                                        {% endif %}
                                        <span class="d-block">{{type.name}}</span>
                                    </label>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <!-- End Radio Checkbox Group -->
                    </div>

                    <div class="col-md-12 mb-3">
                        <label for="remarks" class="font-weight-medium text-uppercase">Remarks</label>
                        <div class="input-group mb-2">
                <textarea type="text" rows="5" class="form-control" name="remarks" id="remarks"
                          placeholder="Additional remarks.."></textarea>
                        </div>
                    </div>

                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepFive">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepSeven">Next
                    </button>
                </div>
            </div>
            <!-- End Step 6 -->

            <!-- Step 7 -->
            <div id="selectStepSeven" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <div class="js-form-message">
                            <label for="target_operation" class="font-weight-medium text-uppercase">Expected Time of
                                Operational </label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                    <span class="input-group-text"><span class="fas fa-calendar"></span>
                    </span>
                                </div>
                                <input type="text" class="form-control" name="target_operation" id="target_operation"
                                       placeholder="Choose Month and Year">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepSix">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepEight">Next
                    </button>
                </div>
            </div>
            <!-- End Step 7 -->

            <!-- Step 8 -->
            <div id="selectStepEight" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="period_of_development" class="font-weight-medium text-uppercase">Period of
                            Development </label>
                        <div class="input-group mb-2">
                <textarea type="text" rows="5" class="form-control" name="period_of_development"
                          id="period_of_development"
                          placeholder="Period of Development.."></textarea>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepSeven">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepNine">Next
                    </button>
                </div>
            </div>
            <!-- End Step 8 -->

            <!-- End Step 9 -->
            <div id="selectStepNine" style="display: none;">

                <div class="row">
                    <div class="col-md-6 mb-3">

                        <label for="ownership_id" class="font-weight-medium text-uppercase">Ownership</label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><span class="fas fa-suitcase"></span></span>
                            </div>
                            <select name="ownership_id" class="custom-select" id="ownership_id"
                                    data-msg="Select Ownership">
                                <option selected disabled>Choose one</option>
                                {% for ownership in ownerships %}
                                <option value="{{ownership.id}}">{{ownership.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="land_allocation" class="font-weight-medium text-uppercase">Land Allocation</label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                    <span class="input-group-text"><span class="fas fa-layer-group"></span>
                    </span>
                            </div>
                            <input type="text" class="form-control" name="land_allocation" id="land_allocation"
                                   placeholder="Type here">
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="land_size" class="font-weight-medium text-uppercase">Land Size </label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                    <span class="input-group-text">m2
                    </span>
                            </div>
                            <input type="text" class="form-control divide" name="land_size" id="land_size"
                                   value="0" placeholder="in Meter Square">
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="human_resources" class="font-weight-medium text-uppercase">Available Human
                            Resources</label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend"><span class="input-group-text">People</span>
                            </div>
                            <input type="text" class="form-control divide" name="human_resources" id="human_resources"
                                   value="0" placeholder="0">
                        </div>
                    </div>

                    <div class="col-md-12 mb-3">
                        <!-- Title -->
                        <div class="border-bottom pb-3 mb-5">
                            <h2 class="h6 text-secondary mb-0">Surrounding Infrastructure
                            </h2>
                        </div>
                        <!-- End Title -->

                        <!-- Radio Checkbox Group -->
                        <div class="js-form-message">
                            <div class="row mx-gutters-2">
                                {% for infrastructure in infrastructures %}
                                <div class="col-4 col-md-2 mb-3">
                                    <div class="custom-control custom-radio custom-control-inline checkbox-outline text-center w-100">
                                        <input type="checkbox" id="infrastructure-{{infrastructure.id}}"
                                               name="infrastructures[]"
                                               value="{{infrastructure.id}}"
                                               class="custom-control-input checkbox-outline__input">
                                        <label class="checkbox-outline__label rounded py-3 px-1 mb-0 w-100"
                                               for="infrastructure-{{infrastructure.id}}">
                                            {% if infrastructure.icon %}
                                            <img class="js-svg-injector w-50 mb-3"
                                                 src="{{infrastructure.icon.thumb('75','75','crop')}}"
                                                 alt="{{infrastructure.name}}"
                                                 data-parent="#add-investment-form">
                                            {% else %}
                                            <img class="js-svg-injector w-50 mb-3"
                                                 src="{{'assets/img/logos/logo.png'|theme}}"
                                                 alt="{{infrastructure.name}}"
                                                 data-parent="#add-investment-form">
                                            {% endif %}
                                            <span class="d-block"
                                                  style="height: 48px">{{infrastructure.name}}</span>
                                        </label>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        <!-- End Radio Checkbox Group -->
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="ded_document" class="font-weight-medium text-uppercase">Detail Engineering Design </label>
                        <div class="input-group mb-2">
                            <input type="file" name="ded_document" id="ded_document" class="dropify"
                                   data-allowed-file-extensions="pdf"
                                   data-max-file-size="5M"/>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="amdal_document" class="font-weight-medium text-uppercase">Environmental Impact Analysis </label>
                        <div class="input-group mb-2">
                            <input type="file" name="amdal_document" id="amdal_document" class="dropify"
                                   data-allowed-file-extensions="pdf"
                                   data-max-file-size="5M"/>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="amdas_document" class="font-weight-medium text-uppercase">Pre Feasibility Study </label>
                        <div class="input-group mb-2">
                            <input type="file" name="amdas_document" id="amdas_document" class="dropify"
                                   data-allowed-file-extensions="pdf"
                                   data-max-file-size="5M"/>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="feasibility_study_document" class="font-weight-medium text-uppercase"> Feasibility
                            Study Document
                        </label>
                        <div class="input-group mb-2">
                            <input type="file" name="feasibility_study_document" id="feasibility_study_document"
                                   class="dropify"
                                   data-allowed-file-extensions="pdf"
                                   data-max-file-size="5M"/>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepEight">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepTen">Next
                    </button>
                </div>
            </div>
            <!-- End Step 9 -->

            <!-- Step 10 -->
            <div id="selectStepTen" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-md-4">
                        <div class="js-form-message">
                            <label class="font-weight-medium text-uppercase">Choose Schemes</label>
                            <div class="row mx-gutters-2">
                                {% for scheme in schemes %}
                                <div class="col-4 col-md-2 mb-3">
                                    <div class="custom-control custom-radio custom-control-inline checkbox-outline text-center w-100">
                                        <input type="checkbox" id="investment-scheme-{{scheme.id}}"
                                               name="investment_schemes[]"
                                               value="{{scheme.id}}"
                                               class="custom-control-input checkbox-outline__input">
                                        <label class="checkbox-outline__label rounded py-3 px-1 mb-0 w-100"
                                               for="investment-scheme-{{scheme.id}}">
                                            {% if scheme.icon %}
                                            <img class="js-svg-injector w-50 mb-3"
                                                 src="{{scheme.icon.thumb('75','75','crop')}}"
                                                 alt="{{scheme.name}}"
                                                 data-parent="#add-investment-form">
                                            {% else %}
                                            <img class="js-svg-injector w-50 mb-3"
                                                 src="{{'assets/img/logos/logo.png'|theme}}"
                                                 alt="{{scheme.name}}"
                                                 data-parent="#add-investment-form">
                                            {% endif %}
                                            <span class="d-block"
                                                  style="height: 48px">{{scheme.name}}</span>
                                        </label>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepNine">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepEleven">Next
                    </button>
                </div>
            </div>
            <!-- End Step 10 -->

            <!-- Step 11 -->
            <div id="selectStepEleven" style="display: none;">

                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="investment_value" class="font-weight-medium text-uppercase">Cost of
                            Investment</label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Rp.</span>
                            </div>
                            <input type="text" class="form-control divide" name="investment_value"
                                   id="investment_value" value="0"
                                   placeholder="Fill in with numbers">
                        </div>
                    </div>

                    <div class="col-md-12 mb-3">
                        <label for="usd" class="font-weight-medium text-uppercase">USD($)</label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text">$</span>
                            </div>
                            <input type="text" class="form-control usd" name="usd"
                                   id="usd" value="0"
                                   placeholder="Fill in with numbers">
                        </div>
                    </div>

                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepTen">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepTwelve">Next
                    </button>
                </div>
            </div>
            <!-- End Step 11 -->

            <!-- Step 12 -->
            <div id="selectStepTwelve" style="display: none;">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="irr" class="font-weight-medium text-uppercase">Internal Rate
                            Return (IRR)</label>

                        <div class="input-group mb-2">
                            <input type="text" class="form-control percent" name="irr"
                                   id="irr" value="0"
                                   placeholder="Number">
                            <div class="input-group-prepend">
                                <span class="input-group-text">%</span>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="npv" class="font-weight-medium text-uppercase">Net Present
                            Value (NPV)</label>

                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Rp.</span>
                            </div>
                            <input type="text" class="form-control divide" name="npv"
                                   id="npv" value="0"
                                   placeholder="Number">
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="bcr" class="font-weight-medium text-uppercase">Build Coverage
                            Ratio (BCR)</label>

                        <div class="input-group mb-2">
                            <input type="text" class="form-control percent" name="bcr"
                                   id="bcr" value="0"
                                   placeholder="Number">
                            <div class="input-group-prepend">
                                <span class="input-group-text">%</span>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="payback_period" class="font-weight-medium text-uppercase">Payback Period</label>

                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text">number</span>
                            </div>
                            <input type="number" class="form-control divide" name="payback_period" value="0"
                                   id="payback_period"
                                   placeholder="Number">
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="return_of_investment" class="font-weight-medium text-uppercase">Return of
                            Investment (ROI)</label>

                        <div class="input-group mb-2">
                            <input type="text" class="form-control percent" name="return_of_investment"
                                   id="return_of_investment" value="0"
                                   placeholder="Number">
                            <div class="input-group-prepend">
                                <span class="input-group-text">%</span>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="break_event_point" class="font-weight-medium text-uppercase">Break Event
                            Point (BEP)</label>

                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text">RP.</span>
                            </div>
                            <input type="text" class="form-control divide" name="break_event_point" value="0"
                                   id="break_event_point"
                                   placeholder="Number">
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="profitability_index" class="font-weight-medium text-uppercase">Profitability
                            Index </label>
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                    <span class="input-group-text"><span class="fas fa-balance-scale"></span>
                    </span>
                            </div>
                            <input type="text" class="form-control percent" name="profitability_index"
                                   id="profitability_index"
                                   placeholder="Number">
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepEleven">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepThirteen">Next
                    </button>
                </div>
            </div>
            <!-- End Step 12 -->

            <!-- Step 13 -->
            <div id="selectStepThirteen" style="display: none;">
                <div class="row">

                    <div class="col-md-12 mb-3">
                        <label for="incentives" class="font-weight-medium text-uppercase">Incentives </label>
                        <div class="input-group mb-2">
                <textarea type="text" rows="5" class="form-control" name="incentives" id="incentives"
                          placeholder="Add Incentives.."></textarea>
                        </div>
                    </div>

                </div>
                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepTwelve">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepFourteen">Next
                    </button>
                </div>
            </div>
            <!-- End Step 13 -->

            <!-- Step 14 -->
            <div id="selectStepFourteen" style="display: none;">
                <div class="row">

                    <div class="col-md-12 mb-3">
                        <label class="font-weight-medium text-uppercase">Choose Organizations/Institution</label>
                        <div class="row mx-gutters-2">
                            {% for organization in organizations %}
                            <div class="col-4 col-md-2 mb-3">
                                <div class="custom-control custom-radio custom-control-inline checkbox-outline text-center w-100">
                                    <input type="radio" id="orgnization-{{organization.id}}"
                                           name="organization_id"
                                           value="{{organization.id}}"
                                           class="custom-control-input checkbox-outline__input">
                                    <label class="checkbox-outline__label rounded py-3 px-1 mb-0 w-100"
                                           for="orgnization-{{organization.id}}">
                                        {% if organization.icon %}
                                        <img class="js-svg-injector w-50 mb-3"
                                             src="{{organization.icon.thumb('75','75','crop')}}"
                                             alt="{{organization.name}}"
                                             data-parent="#add-investment-form">
                                        {% else %}
                                        <img class="js-svg-injector w-50 mb-3"
                                             src="{{'assets/img/logos/logo.png'|theme}}"
                                             alt="{{organization.name}}"
                                             data-parent="#add-investment-form">
                                        {% endif %}
                                        <span class="d-block"
                                              style="height: 48px">{{organization.name}}</span>
                                    </label>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>

                </div>
                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepThirteen">Back</a>
                    <button type="button" class="btn btn-sm btn-primary transition-3d-hover"
                            data-next-step="#selectStepFifteen">Next
                    </button>
                </div>
            </div>
            <!-- End Step 14 -->

            <!-- Step 15 -->
            <div id="selectStepFifteen" style="display: none;">
                <div class="row">

                    <div class="col-md-6 mb-3">
                        <div class="js-form-message">
                            <label for="agent_name" class="font-weight-medium text-uppercase">Your Name <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                    <span class="input-group-text"><span class="fas fa-user"></span>
                    </span>
                                </div>
                                <input type="text" class="form-control" name="agent_name" id="agent_name" required
                                       placeholder="Full Formal Name "
                                       data-msg="Fill in with Full Name"
                                       data-error-class="u-has-error"
                                       data-success-class="u-has-success">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="js-form-message">
                            <label for="office_address" class="font-weight-medium text-uppercase">Office Address <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                    <span class="input-group-text"><span class="fas fa-user"></span>
                    </span>
                                </div>
                                <input type="text" class="form-control" name="office_address" id="office_address"
                                       required
                                       placeholder="Office Address">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="js-form-message">
                            <label for="agent_phone" class="font-weight-medium text-uppercase">Cell Phone Number <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                    <span class="input-group-text">+62
                    </span>
                                </div>
                                <input type="number" class="form-control" name="agent_phone" id="agent_phone"
                                       placeholder="put number only"
                                       required
                                       data-msg="Agent Phone required"
                                       data-error-class="u-has-error"
                                       data-success-class="u-has-success">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="js-form-message">
                            <label for="organization_name" class="font-weight-medium text-uppercase">Organization
                                <strong
                                        class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                    <span class="input-group-text"><span class="fas fa-suitcase"></span>
                    </span>
                                </div>
                                <input type="text" class="form-control" name="organization_name" id="organization_name"
                                       placeholder="Your organization name" required
                                       data-msg="Your organization name"
                                       data-error-class="u-has-error"
                                       data-success-class="u-has-success">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="js-form-message">
                            <label for="agent_email" class="font-weight-medium text-uppercase">Email Address <strong
                                    class="text-danger">*</strong></label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend"><span class="input-group-text"><span
                                        class="fas fa-globe"></span></span>
                                </div>
                                <input type="email" class="form-control" name="agent_email" id="agent_email"
                                       placeholder="Your Email Address" required
                                       data-msg="Your Email Address"
                                       data-error-class="u-has-error"
                                       data-success-class="u-has-success">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 mb-3">
                        <label class="font-weight-medium text-uppercase">Site Images <strong
                                class="text-danger">*</strong></label>
                        <div class="input-group mb-2">
                            {% component 'photos' %}
                        </div>
                    </div>

                </div>

                <div class="d-flex justify-content-end">
                    <a class="btn btn-sm btn-soft-secondary transition-3d-hover mr-1" href="javascript:void(0);"
                       data-previous-step="#selectStepFourteen">Back</a>
                    <button type="button" onclick="submitInvestmentForm()"
                            class="btn btn-sm btn-primary transition-3d-hover">Save
                    </button>
                </div>
            </div>
            <!-- End Step 15 -->
        </div>
    </div>
    {{ form_close() }}
</div>

{% put javascript %}
<script src="{{'assets/vendor/dropify/dist/js/dropify.min.js'|theme}}"></script>
<script src="{{'assets/js/number-divider.min.js'|theme}}"></script>
<script src="{{'assets/js/jquery.mask.min.js'|theme}}"></script>
<script>
    $('.divide').divide({
        delimiterRegExp: /[\.\,\-\a-z\A-Z\s]/g,
        delimiter: '.',
    });

    $('#usd').mask('000,000,000,000,000,000', {reverse: true});

    $('.percent').mask('##0.00%', {reverse: true});

</script>
<script>
    function submitInvestmentForm() {
        var form = $('#add-investment-form');
        var usd = $('#usd').cleanVal();
        if (form.valid()) {
            form.request('onAddInvestment',
                {
                    data: {usd: usd},
                    files: 1,
                    beforeSend: function () {
                        $.oc.stripeLoadIndicator.show();
                    },
                    complete: function () {
                        $.oc.stripeLoadIndicator.hide();
                    }
                })
        }
    }

    $('#target_operation').datepicker({
        format: "mm/yyyy",
        language: "id",
        minViewMode: "months",
        startDate: 'd',
        todayHighlight: true
    });

    // DED document
    $('#ded_document').dropify({
        messages: {
            'default': '<strong>Upload DETAIL ENGINEERING DESIGN</strong> <br/> <small>Maximum ukuran file adalah 5MB</small>',
            'replace': 'Drag and drop or click to replace',
            'remove': 'Remove',
            'error': 'Ooops, something wrong happened!'
        }
    });

    // AMDAL document
    $('#amdal_document').dropify({
        messages: {
            'default': '<strong>Upload ENVIRONMENTAL IMPACT ANALYSIS DOCUMENT</strong> <br/> <small>Maximum ukuran file adalah 5MB</small>',
            'replace': 'Drag and drop or click to replace',
            'remove': 'Remove',
            'error': 'Ooops, something wrong happened!'
        }
    });

    // AMDAS document
    $('#amdas_document').dropify({
        messages: {
            'default': '<strong>Upload PRE FEASIBILITY STUDY</strong> <br/> <small>Maximum ukuran file adalah 5MB</small>',
            'replace': 'Drag and drop or click to replace',
            'remove': 'Remove',
            'error': 'Ooops, something wrong happened!'
        }
    });

    // Feasibility Study document
    $('#feasibility_study_document').dropify({
        messages: {
            'default': '<strong>Upload FEASIBILITY STUDY DOCUMENT</strong> <br/> <small>Maximum ukuran file adalah 5MB</small>',
            'replace': 'Drag and drop or click to replace',
            'remove': 'Remove',
            'error': 'Ooops, something wrong happened!'
        }
    });
</script>
<script>
    var map, autocomplete, place, address, autocompletePostalAddrss;
    var geocoder;

    var componentForm = {
        street_number: 'short_name',
        route: 'long_name',
        locality: 'long_name',
        administrative_area_level_1: 'long_name',
        country: 'long_name',
        postal_code: 'short_name'
    };

    latitude = -6.912733;
    longitude = 107.633148;

    function initMap() {
        geocoder = new google.maps.Geocoder();
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: latitude, lng: longitude},
            zoom: 11
        });

        var postalAddress = /** @type {!HTMLInputElement} */(document.getElementById('postal_address'));

        var options = {
            componentRestrictions: {
                country: ["id"]
            }
        };

        var input = /** @type {!HTMLInputElement} */(document.getElementById('address'));

        autocomplete = new google.maps.places.Autocomplete(input);
        autocomplete.bindTo('bounds', map);
        autocomplete.setComponentRestrictions({'country': ['id']});

        var infowindow = new google.maps.InfoWindow();
        var marker = new google.maps.Marker({
            map: map,
            draggable: true,
            position: {lat: latitude, lng: longitude},
        });

        marker.addListener('dragend', handleEvent);

        function handleEvent(event) {
            $("#latitude").val(event.latLng.lat());
            $("#longitude").val(event.latLng.lng());
            geocodePosition(marker.getPosition());
        }

        function geocodePosition(pos) {
            geocoder.geocode({
                latLng: pos
            }, function (responses) {
                if (responses && responses.length > 0) {
                    $("#address").val(responses[0].formatted_address);
                }
            });
        }

        autocomplete.addListener('place_changed', function () {

            infowindow.close();
            marker.setVisible(false);
            place = autocomplete.getPlace();
            if (!place.geometry) {
                window.alert("Autocomplete's returned place contains no geometry");
                return;
            }

            // If the place has a geometry, then present it on a map.
            if (place.geometry.viewport) {
                map.fitBounds(place.geometry.viewport);
            } else {
                map.setCenter(place.geometry.location);
                map.setZoom(17);  // Why 17? Because it looks good.
            }
            // @type {google.maps.Icon}
            /*marker.setIcon(({
                url: place.icon,
                size: new google.maps.Size(71, 71),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(17, 34),
                scaledSize: new google.maps.Size(35, 35)
            }));*/
            marker.setPosition(place.geometry.location);
            marker.setVisible(true);

            address = '';

            if (place.address_components) {
                address = [
                    (place.address_components[0] && place.address_components[0].short_name || ''),
                    (place.address_components[1] && place.address_components[1].short_name || ''),
                    (place.address_components[2] && place.address_components[2].short_name || '')
                ].join(' ');
            }

            infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);
            infowindow.open(map, marker);
        });

        // Populate the address fields in the form.
        autocomplete.addListener('place_changed', fillInAddress);
    }

    function fillInAddress() {

        $("#latitude").val(place.geometry.location.lat());
        $("#longitude").val(place.geometry.location.lng());

        if (place.address_components[0].types[0] != 'street_number') {
            var inputValue = (document.getElementById('address').value);
            var res = inputValue.split(" ");
            if (!isNaN(res[0])) {
                document.getElementById('street_number').value = res[0];
            }
        }
        for (var i = 0; i < place.address_components.length; i++) {
            var addressType = place.address_components[i].types[0];

            if (componentForm[addressType]) {
                var val = place.address_components[i][componentForm[addressType]];
                if (addressType === 'postal_code') {
                    $('#postcode').val(val);
                }
                if (addressType === 'administrative_area_level_1') {
                    $('#state').val(val);
                }
                if (addressType === 'locality') {
                    $('#suburb').val(val);
                }
            }
        }
    }

    // Bias the autocomplete object to the user's geographical location,
    // as supplied by the browser's 'navigator.geolocation' object.
    function geolocate() {
        var geoOptions = {
            maximumAge: 5 * 60 * 1000,
            timeout: 10 * 1000
        };

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };

                map.setCenter(pos);
            }, function () {
                console.log('Geolocation error occurred');
            });
        } else {
            console.log("Browser doesn't support Geolocation");
        }
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key={{google_map_api_key}}&libraries=places&callback=initMap"
        async defer></script>
{% endput %}